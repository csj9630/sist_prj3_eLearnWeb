<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<th:block th:replace = "~{fragments/cdn :: cdn}"/>
<style type = "text/css">
#wrap{margin: 0px auto; width: 1200px; height: 1000px;}
#header{height: 150px;}
#container{height: 700px;}
#footer{height: 150px;}

a{color: #000000; text-decoration: none;}
a:hover{color: #808080; text-decoration: none;}

/* 게시판 pagination 디자인 */
.prevMark{color: #FF0000;}
.nextMark{color: #FF0000;}
.currentPage{font-size: 20px; font-weight: bold;}
.notCurrentPage{font-size: 18px; font-weight: normal;}
</style>
<!-- summernote 시작 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.js"></script>

<script type="text/javascript">
$(function() {
	$("#btnWrite").click(function() {
	// 제목과 내용에 값이 있는지 유효성 검증
	if($("#score").val().trim() == "") {
		alert("평점은 필수 입력입니다.");
		$("#title").focus();
		return;
	} // end if
	
	if($("#content").val() == "" || $("#content").val() == "<p></p>") {
		alert("내용은 필수 입력입니다.");
		return;
	} // end if
	
	$("#frm").submit();
	}); // click
}); // ready
</script>
<script type="text/javascript">
$(function() {
      $('#content').summernote({
        placeholder: '강의에 대한 평가를 작성해주세요',
        tabsize: 2,
        height: 300,
        width: 500,
        toolbar: [
			// [groupName, [list of button]]
			['style', ['bold', 'italic', 'underline', 'clear']],
			['font', ['strikethrough', 'superscript', 'subscript']],
			['fontsize', ['fontsize']],
			['color', ['color']],
			['para', ['ul', 'ol', 'paragraph']],
			['height', ['height']],
			['insert', ['link', 'picture']]
		]
      });
}); // ready
</script>
</head>
<body>
<div id = "wrap">
<div id = "header">
<th:block th:replace = "~{fragments/header :: header}"/>
</div>
<div id = "container">
<h2><span th:text = "${param.lectId}"></span>강의 리뷰 작성</h2>
<form th:action = "@{{url}(url = '/lecture/review/reviewWriteFrmProcess', lectId = ${param.lectId}, currentPage = ${param.currentPage})}" method = "post" name = "frm" id = "frm">
<table>
<tr>
	<td style = "width: 100px">평점</td>
	<td><input type = "text" name = "score" id = "score" style = "width: 500px"/> / 5</td>
</tr>
<tr>
	<td>내용</td>
	<td><textarea name = "content" id = "content"></textarea></td>
</tr>
<tr>
	<td>ID / IP</td>
	<td><span th:text = "${session.user_id}"></span> / <span th:text = "${ip}"></span><input type = "hidden" name = "lect_id" th:value = "${param.lectId}"/></td>
</tr>
<tr>
	<td colspan = "2" style = "text-align: center;">
		<button onclick = "return false" class = "btn btn-success"  id = "btnWrite">글쓰기</button>
		<a href = "javascript:history.back()" class = "btn btn-info">리스트</a>
	</td>
</tr>
</table>
</form>
</div>
<div id = "footer">
<th:block th:replace = "~{fragments/footer :: footer}"/>
</div>
</div>
</body>
</html>