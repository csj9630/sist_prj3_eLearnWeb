<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:replace="~{user/my/profile/mypageMain :: layout(~{::content}, null, 'profile')}">
<div th:fragment="content">

    <!-- 페이지 타이틀 (대시보드와 동일한 스타일) -->
    <h2 class="page-title">프로필 <span class="sub-title">나의 활동을 확인하세요</span></h2>

    <!-- 프로필 헤더 섹션 -->
    <div class="dash-section" style="margin-bottom: 20px;">
        <div style="display:flex; align-items:center; gap: 24px;">

            <!-- 프로필 이미지 -->
            <div
                style="width:90px; height:90px; border-radius:50%; overflow:hidden; background:#eee; flex-shrink:0; border: 3px solid #e5f9f0;">
                <img th:src="@{/images/profile/default.png}"
                    th:if="${profile.img == null or profile.img == '' or profile.img == 'default.png'}"
                    style="width:100%; height:100%; object-fit:cover;" alt="프로필 이미지">
                <img th:src="@{${profile.img}}"
                    th:unless="${profile.img == null or profile.img == '' or profile.img == 'default.png'}"
                    style="width:100%; height:100%; object-fit:cover;" alt="프로필 이미지">
            </div>

            <!-- 이름 / 아이디 -->
            <div style="flex:1;">
                <div style="font-size:22px; font-weight:700; color:#1b1c1d; margin-bottom:4px;"
                    th:text="${profile.name}">사용자 이름</div>
                <div style="font-size:14px; color:#858a8d;" th:text="${profile.id}">user_id</div>
            </div>

            <!-- 프로필 수정 버튼 -->
            <a th:href="@{/user/my/setting}"
                style="padding:8px 18px; border:1.5px solid #dee2e6; border-radius:6px; font-size:14px; color:#555; background:#fff; text-decoration:none; transition:all 0.2s;"
                onmouseover="this.style.borderColor='#00c471'; this.style.color='#00c471';"
                onmouseout="this.style.borderColor='#dee2e6'; this.style.color='#555';">
                ✏️ 프로필 수정
            </a>
        </div>
    </div>

    <!-- 통계 섹션 -->
    <div class="dash-section" style="margin-bottom: 20px;">
        <div class="section-head">
            <span>나의 활동</span>
        </div>
        <div style="display:flex; gap:40px; padding: 8px 0;">
            <div style="text-align:center;">
                <div style="font-size:24px; font-weight:700; color:#00c471;">-</div>
                <div style="font-size:13px; color:#858a8d; margin-top:4px;">수강평 작성수</div>
            </div>
        </div>
    </div>

    <!-- 소개 섹션 -->
    <div class="dash-section">
        <div class="section-head">
            <span>소개</span>
            <a th:href="@{/user/my/setting}"
                style="font-size:13px; color:#00c471; font-weight:500; text-decoration:none;">
                ✏️ 작성하기
            </a>
        </div>

        <!-- 소개글이 없는 경우 -->
        <div th:if="${profile.intro == null or profile.intro == ''}"
            style="text-align:center; padding:40px 0; color:#aaa;">
            <div style="font-size:36px; margin-bottom:12px;">📝</div>
            <div style="font-size:15px; font-weight:600; margin-bottom:6px; color:#888;">소개글이 비어있어요</div>
            <div style="font-size:13px; color:#bbb;">나만의 스킬, 깃허브 링크 등으로 소개글을 채워보세요.</div>
        </div>

        <!-- 소개글이 있는 경우 -->
        <div th:unless="${profile.intro == null or profile.intro == ''}" th:utext="${profile.intro}"
            style="line-height:1.7; color:#444; font-size:15px;">
        </div>
    </div>

</div>

</html>